<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"> <!-- Khai bao namespace de dung th:* -->
<head>
<meta charset="UTF-8">
<title>Danh Sach Sinh Vien</title>
<!-- CSS don gian -->
<style>
    body { font-family: sans-serif; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    th { background-color: #f2f2f2; }

    /* Thêm dòng này */
    .text-danger {
        color: red;
        font-weight: bold;
    }

    .message {
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 4px;
    }

    .success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }

    .error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }

    .btn {
        padding: 6px 12px;
        margin: 2px;
        border: 1px solid #ccc;
        border-radius: 4px;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
    }

    .btn-primary {
        background-color: #007bff;
        color: white;
    }

    .btn-danger {
        background-color: #dc3545;
        color: white;
    }

    .btn-secondary {
        background-color: #6c757d;
        color: white;
    }
</style>
</head>
<body>
<h1>Danh Sach Sinh Vien (SSR)</h1>

<!-- Display flash messages -->
<div th:if="${message}" class="message success" th:text="${message}"></div>
<div th:if="${error}" class="message error" th:text="${error}"></div>

<!-- Search form -->
<form action="/students" method="GET">
    <input type="text" name="keyword" placeholder="Nhap ten..." th:value="${param.keyword}" />
    <button type="submit" class="btn btn-primary">Tim</button>
    <a href="/students/add" class="btn btn-primary">Thêm Mới</a>
</form>

<table>
<thead>
<tr>
<th>ID</th>
<th>Ho va Ten</th>
<th>Email</th>
<th>Tuoi</th>
<th>Thao tác</th>
</tr>
</thead>
<tbody>
<!-- Cu phap Thymeleaf: Duyet qua danh sach "dsSinhVien" -->
<!-- th:each="bien_tam : ${key_trong_model}" -->
<tr th:each="student : ${dsSinhVien}" th:class="${student.age < 18} ? 'text-danger' : ''">
<td th:text="${student.id}">ID Mau</td>
<td th:text="${student.name}">Ten Mau</td>
<td th:text="${student.email}">Email Mau</td>
<td th:text="${student.age}">0</td>
<td>
    <a th:href="@{/students/{id}(id=${student.id})}" class="btn btn-secondary">Xem Chi Tiết</a>
    <a th:href="@{/students/{id}/edit(id=${student.id})}" class="btn btn-primary">Chỉnh Sửa</a>
    <form th:action="@{/students/{id}/delete(id=${student.id})}" method="post" style="display: inline;" onsubmit="return confirm('Bạn có chắc muốn xóa sinh viên này?')">
        <button type="submit" class="btn btn-danger">Xóa</button>
    </form>
</td>
</tr>
</tbody>
</table>
</body>
</html>